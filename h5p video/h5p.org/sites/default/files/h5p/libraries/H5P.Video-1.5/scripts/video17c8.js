H5P.Video=(function($,ContentCopyrights,MediaCopyright,handlers){function Video(parameters,id){var self=this;self.contentId=id;self.pressToPlay=false;var handlerName='';H5P.EventDispatcher.call(self);parameters=$.extend(true,parameters,{l10n:{name:'Video',loading:'Video player loading...',noPlayers:'Found no video players that supports the given video format.',noSources:'Video source is missing.',aborted:'Media playback has been aborted.',networkFailure:'Network failure.',cannotDecode:'Unable to decode media.',formatNotSupported:'Video format not supported.',mediaEncrypted:'Media encrypted.',unknownError:'Unknown error.',invalidYtId:'Invalid YouTube ID.',unknownYtId:'Unable to find video with the given YouTube ID.',restrictedYt:'The owner of this video does not allow it to be embedded.'}});parameters.a11y=parameters.a11y||[];parameters.playback=parameters.playback||{};parameters.visuals=parameters.visuals||{};var sources=[];if(parameters.sources){for(var i=0;i<parameters.sources.length;i++){var source=$.extend(true,{},parameters.sources[i]);source.path=$cleaner.html(source.path).text();sources.push(source);}}
var tracks=[];parameters.a11y.forEach(function(track){var clone=$.extend(true,{},track);if(clone.track&&clone.track.path){clone.track.path=$cleaner.html(clone.track.path).text();tracks.push(clone);}});self.attach=function($container){$container.addClass('h5p-video').html('');if(self.appendTo!==undefined){self.appendTo($container);}
else{if(sources.length){$container.text(parameters.l10n.noPlayers);}
else{$container.text(parameters.l10n.noSources);}}};self.getHandlerName=function(){return handlerName;};self.on('loaded',function(){self.trigger('resize');});if(sources.length){var html5Handler;for(var i=0;i<handlers.length;i++){var handler=handlers[i];if(handler.canPlay!==undefined&&handler.canPlay(sources)){handler.call(self,sources,{controls:parameters.visuals.controls,autoplay:parameters.playback.autoplay,loop:parameters.playback.loop,fit:parameters.visuals.fit,poster:parameters.visuals.poster===undefined?undefined:parameters.visuals.poster,startAt:parameters.startAt||0,tracks:tracks,disableRemotePlayback:(parameters.visuals.disableRemotePlayback||false)},parameters.l10n);handlerName=handler.name;return;}
if(handler===H5P.VideoHtml5){html5Handler=handler;handlerName=handler.name;}}
if(html5Handler){html5Handler.call(self,sources,{controls:parameters.visuals.controls,autoplay:parameters.playback.autoplay,loop:parameters.playback.loop,fit:parameters.visuals.fit,poster:parameters.visuals.poster===undefined?undefined:parameters.visuals.poster,startAt:parameters.startAt||0,tracks:tracks,disableRemotePlayback:(parameters.visuals.disableRemotePlayback||false)},parameters.l10n);}}}
Video.prototype=Object.create(H5P.EventDispatcher.prototype);Video.prototype.constructor=Video;Video.ENDED=0;Video.PLAYING=1;Video.PAUSED=2;Video.BUFFERING=3;Video.VIDEO_CUED=5;var $cleaner=H5P.jQuery('<div/>');Video.LabelValue=function(label,value){this.label=label;this.value=value;};Video.IE11_PLAYBACK_RATE_FIX=(navigator.userAgent.match(/Trident.*rv[ :]*11\./)?true:false);return Video;})(H5P.jQuery,H5P.ContentCopyrights,H5P.MediaCopyright,H5P.videoHandlers||[]);